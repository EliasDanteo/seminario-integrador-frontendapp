<nav class="navbar navbar-expand-lg bg-body-tertiary">
  <div class="container-fluid">
    <a
      class="navbar-brand"
      style="margin-right: 10px !important"
      routerLink="/home"
      routerLinkActive="active-link"
      >Sistema Jurídico</a
    >

    <button
      class="navbar-toggler"
      type="button"
      (click)="toggleMobileMenu()"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div
      class="navbar-collapse"
      [class.show]="mobileMenuOpen"
      id="navbarContent"
    >
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        @if(userSignal() === null){
        <li class="nav-item">
          <a
            class="nav-link animated-link"
            routerLink="/"
            routerLinkActive="active-link"
            [routerLinkActiveOptions]="{ exact: true }"
            (click)="closeMobileMenu()"
            >Iniciar Sesión</a
          >
        </li>
        } @if(esAdmin()){
        <li class="nav-item">
          <a
            class="nav-link animated-link"
            routerLink="/abogados-list"
            routerLinkActive="active-link"
            (click)="closeMobileMenu()"
            >Abogados</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link animated-link"
            routerLink="/clientes-list"
            routerLinkActive="active-link"
            (click)="closeMobileMenu()"
            >Clientes</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link animated-link"
            routerLink="/secretarios-list"
            routerLinkActive="active-link"
            (click)="closeMobileMenu()"
            >Secretarios</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link animated-link"
            routerLink="/actividades-list"
            routerLinkActive="active-link"
            (click)="closeMobileMenu()"
            >Actividades</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link animated-link"
            routerLink="/noticias-list"
            routerLinkActive="active-link"
            (click)="closeMobileMenu()"
            >Crear Noticia</a
          >
        </li>
        } @if(esAbogado() || esSecretario() || esAdmin()){
        <li class="nav-item">
          <a
            class="nav-link animated-link"
            routerLink="/casos-list"
            routerLinkActive="active-link"
            (click)="closeMobileMenu()"
            >Casos</a
          >
        </li>
        } @if(esAbogado()){
        <li class="nav-item">
          <a
            class="nav-link animated-link"
            routerLink="/mis-actividades"
            routerLinkActive="active-link"
            (click)="closeMobileMenu()"
            >Mis Actividades</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link animated-link"
            routerLink="/horarios-turnos"
            routerLinkActive="active-link"
            (click)="closeMobileMenu()"
            >Horarios de turnos</a
          >
        </li>
        <li class="nav-item">
          <a
            class="nav-link animated-link"
            routerLink="/mis-turnos"
            routerLinkActive="active-link"
            (click)="closeMobileMenu()"
            >Turnos</a
          >
        </li>
        } @if(esCliente()){
        <li class="nav-item">
          <a
            class="nav-link animated-link"
            routerLink="/casos-list"
            routerLinkActive="active-link"
            (click)="closeMobileMenu()"
            >Mis Casos</a
          >
        </li>
        } @if(!esAbogado() && !esAdmin() && !esSecretario()){
        <li class="nav-item">
          <a
            class="nav-link animated-link"
            routerLink="/obtener-turnos"
            routerLinkActive="active-link"
            (click)="closeMobileMenu()"
            >Obtener turno abogado</a
          >
        </li>
        }

        <li class="nav-item">
          <a
            class="nav-link animated-link"
            routerLink="/noticias-blog"
            routerLinkActive="active-link"
            (click)="closeMobileMenu()"
            >Noticias Blog</a
          >
        </li>
      </ul>

      @if(userSignal() !== null){
      <div class="user-menu">
        <button
          mat-button
          [matMenuTriggerFor]="menu"
          class="text-black fw-light"
        >
          {{
            userSignal()?.nombre +
              " " +
              (userSignal()?.apellido ? userSignal()?.apellido : "")
          }}
        </button>
        <mat-menu class="user-option" #menu="matMenu">
          <button mat-menu-item (click)="closeMobileMenu()">
            <a
              class="nav-link"
              routerLink="/home"
              routerLinkActive="active-link"
              >Mi Perfil</a
            >
          </button>
          <button mat-menu-item (click)="logout()">Cerrar Sesión</button>
        </mat-menu>
      </div>
      }
    </div>
  </div>
</nav>
