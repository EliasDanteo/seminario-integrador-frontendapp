<div class="login-container">
  <div class="login-box" [ngClass]="{ 'fade-in': true }">
    <h2>Restablecer Contraseña</h2>

    <form (ngSubmit)="onSubmit()" *ngIf="!success; else successMessage">
      <div class="form-group">
        <label for="newPassword">Nueva Contraseña</label>
        <input
          id="newPassword"
          type="password"
          [(ngModel)]="newPassword"
          name="newPassword"
          class="form-control"
          placeholder="Ingresa tu nueva contraseña"
          required
          minlength="8"
        />
      </div>

      <div class="form-group">
        <label for="confirmPassword">Confirmar Contraseña</label>
        <input
          id="confirmPassword"
          type="password"
          [(ngModel)]="confirmPassword"
          name="confirmPassword"
          class="form-control"
          placeholder="Repite tu nueva contraseña"
          required
          minlength="8"
        />
      </div>

      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="
          !newPassword || !confirmPassword || newPassword !== confirmPassword
        "
      >
        Actualizar Contraseña
      </button>

      <div class="form-group text-center align-items-center mt-3">
        <a routerLink="/login">Volver al Login</a>
      </div>
    </form>

    <ng-template #successMessage>
      <div class="success-container">
        <mat-icon class="success-icon">check_circle</mat-icon>
        <h3>¡Contraseña actualizada!</h3>
        <p>Tu contraseña ha sido cambiada exitosamente.</p>
        <p>Serás redirigido al login en unos segundos...</p>
      </div>
    </ng-template>
  </div>
</div>
